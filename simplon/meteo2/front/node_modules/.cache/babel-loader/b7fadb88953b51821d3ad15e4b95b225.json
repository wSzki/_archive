{"ast":null,"code":"var _jsxFileName = \"/home/wsz/tem/front/src/components/firebaseData.js\";\n// Import FirebaseAuth and firebase.\nimport React from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport { useState } from 'react';\nimport \"./firebaseConfig\";\nfirebase.database().ref('meteo/').set({\n  1: \"Paris\",\n  2: \"Rio\",\n  3: \"Tokyo\",\n  4: \"Vancouver\"\n}); //function readUserData2() {\n//  const data = firebase.database().ref('meteo/city/');\n//  data.once('value').then((a) => { console.log(a.val()) })\n//}\n\nconst data = firebase.database().ref('meteo/');\ndata.once('value').then(a => {\n  console.log(a.val());\n}); //const [dbvalue, setdbvalue] = useState(\"\");\n//data.once('value').then((a) => { setdbvalue(a.val()) })\n\nexport default function Hello() {\n  const [dbvalue, setdbvalue] = useState(\"\");\n  const [idLength, setidLength] = useState(\"\");\n  const [name, setname] = useState(\"\");\n  const data = firebase.database().ref('meteo/');\n  data.once('value').then(a => {\n    console.log(a.val());\n  });\n\n  const show = () => {\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then(a => {\n      setdbvalue(a.val());\n    });\n  };\n\n  const input = e => {\n    console.log(e.target.value);\n    setname(e.target.value);\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then(a => {\n      setidLength(a.val().length);\n    });\n    console.log(idLength);\n  };\n\n  const add = () => {\n    firebase.database().ref('meteo/').set({\n      6: name\n    });\n  };\n\n  const date = new Date();\n  const cityValue = a.target.value;\n  fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityValue}&appid=${api}` // Fetch to get longitutde and latitude to use with second API - Translate String to coordinates\n  ).then(response => response.json()).then(data => {\n    setName(data.name); // Fetching weather data with coordinates - Current - Forecast\n\n    fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${data.coord.lat}&lon=${data.coord.lon}&appid=${api}`).then(response => response.json()).then(data => {\n      console.log(date.getDay());\n      const icon = data.current.weather[0].icon;\n      const iconURL = ` http://openweathermap.org/img/wn/${icon}@2x.png`; //////////////////////////\n\n      console.log(data);\n      setCurrentState( /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex column jcc  aic\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, kc(data.current.temp), \"\\xB0C\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }, data.current.weather[0].main), /*#__PURE__*/React.createElement(\"img\", {\n        src: iconURL,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      })));\n    });\n  }) //////////////////////////\n  .catch(error => {\n    console.log(\"error\");\n    setErrorState(\"City name does not exist\");\n    setCurrentState(\"\");\n    setForecastDailyState(\"\");\n    setForecastHourlyState(\"\");\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex column  h50 jcc aic \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, \"Show Favorites \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, dbvalue), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onKeyPress: input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: add,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, \"Add to Favorites \"));\n}","map":{"version":3,"sources":["/home/wsz/tem/front/src/components/firebaseData.js"],"names":["React","StyledFirebaseAuth","firebase","useState","database","ref","set","data","once","then","a","console","log","val","Hello","dbvalue","setdbvalue","idLength","setidLength","name","setname","show","input","e","target","value","length","add","date","Date","cityValue","fetch","api","response","json","setName","coord","lat","lon","getDay","icon","current","weather","iconURL","setCurrentState","kc","temp","main","catch","error","setErrorState","setForecastDailyState","setForecastHourlyState"],"mappings":"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","sourcesContent":["// Import FirebaseAuth and firebase.\nimport React from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport { useState } from 'react'\nimport \"./firebaseConfig\"\n\n\n\n\n\n\nfirebase.database().ref('meteo/').set({\n  1: \"Paris\",\n  2: \"Rio\",\n  3: \"Tokyo\",\n  4: \"Vancouver\"\n});\n\n//function readUserData2() {\n//  const data = firebase.database().ref('meteo/city/');\n//  data.once('value').then((a) => { console.log(a.val()) })\n//}\n\nconst data = firebase.database().ref('meteo/');\ndata.once('value').then((a) => { console.log(a.val()) })\n\n\n//const [dbvalue, setdbvalue] = useState(\"\");\n//data.once('value').then((a) => { setdbvalue(a.val()) })\n\n\n\n\nexport default function Hello() {\n\n  const [dbvalue, setdbvalue] = useState(\"\");\n  const [idLength, setidLength] = useState(\"\");\n  const [name, setname] = useState(\"\");\n\n  const data = firebase.database().ref('meteo/');\n  data.once('value').then((a) => { console.log(a.val()) })\n\n  const show = () => {\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then((a) => { setdbvalue(a.val()); })\n\n  }\n\n  const input = (e) => {\n    console.log(e.target.value)\n    setname(e.target.value)\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then((a) => { setidLength(a.val().length) })\n    console.log(idLength)\n  }\n\n  const add = () => {\n    firebase.database().ref('meteo/').set({\n      6: name,\n\n    });\n  }\n\n  const date = new Date();\n  const cityValue = a.target.value;\n  fetch(\n    `https://api.openweathermap.org/data/2.5/weather?q=${cityValue}&appid=${api}` // Fetch to get longitutde and latitude to use with second API - Translate String to coordinates\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      setName(data.name);\n      // Fetching weather data with coordinates - Current - Forecast\n      fetch(\n        `https://api.openweathermap.org/data/2.5/onecall?lat=${data.coord.lat}&lon=${data.coord.lon}&appid=${api}`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(date.getDay());\n          const icon = data.current.weather[0].icon;\n          const iconURL = ` http://openweathermap.org/img/wn/${icon}@2x.png`;\n          //////////////////////////\n          console.log(data);\n          setCurrentState(\n            <div className=\"flex column jcc  aic\">\n              <br />\n              <div>{kc(data.current.temp)}°C</div>\n              <div>{data.current.weather[0].main}</div>\n              <img src={iconURL}></img>\n            </div>\n          );\n        });\n    })\n    //////////////////////////\n\n    .catch((error) => {\n      console.log(\"error\");\n      setErrorState(\"City name does not exist\");\n      setCurrentState(\"\");\n      setForecastDailyState(\"\");\n      setForecastHourlyState(\"\");\n    });\n\n\n\n\n\nreturn (\n  <div className=\"flex column  h50 jcc aic \">\n\n    <button onClick={show}>Show Favorites </button>\n    <div>{dbvalue}</div>\n    <br />\n    <br />\n    <br />\n    <input onKeyPress={input}></input>\n    <button onClick={add}>Add to Favorites </button>\n\n\n\n  </div>\n)\n\n    }\n\n"]},"metadata":{},"sourceType":"module"}