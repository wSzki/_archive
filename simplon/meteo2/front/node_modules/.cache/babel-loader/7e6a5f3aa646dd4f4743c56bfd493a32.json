{"ast":null,"code":"var _jsxFileName = \"/home/wsz/tem/front/src/components/firebaseData.js\";\n// Import FirebaseAuth and firebase.\nimport React from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport { useState } from 'react';\nimport \"./firebaseConfig\";\nimport { api } from \"./api\";\nfirebase.database().ref('meteo/').set({\n  1: \"Paris\",\n  2: \"Rio\",\n  3: \"Tokyo\",\n  4: \"Vancouver\"\n}); //function readUserData2() {\n//  const data = firebase.database().ref('meteo/city/');\n//  data.once('value').then((a) => { console.log(a.val()) })\n//}\n\nconst data = firebase.database().ref('meteo/');\ndata.once('value').then(a => {\n  console.log(a.val());\n}); //const [dbvalue, setdbvalue] = useState(\"\");\n//data.once('value').then((a) => { setdbvalue(a.val()) })\n\nexport default function Hello() {\n  const [dbvalue, setdbvalue] = useState(\"\");\n  const [idLength, setidLength] = useState(\"\");\n  const [name, setname] = useState(\"\");\n  const data = firebase.database().ref('meteo/');\n  data.once('value').then(a => {\n    console.log(a.val());\n  });\n\n  const show = () => {\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then(a => {\n      setdbvalue(a.val());\n    });\n  };\n\n  const input = e => {\n    console.log(e.target.value);\n    setname(e.target.value);\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then(a => {\n      setidLength(a.val().length);\n    });\n    console.log(idLength);\n  };\n\n  const add = () => {\n    firebase.database().ref('meteo/').set({\n      6: name\n    });\n  };\n\n  function Search(props) {\n    const [currentState, setCurrentState] = useState(\"\");\n    const [currentState1, setCurrentState1] = useState(\"\");\n    const [currentState2, setCurrentState2] = useState(\"\");\n    const [currentState3, setCurrentState3] = useState(\"\");\n    const [forecastHourlyState, setForecastHourlyState] = useState(\"\");\n    const [forecastDailyState, setForecastDailyState] = useState(\"\");\n    const [errorState, setErrorState] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      arrows: true,\n      slidesToScroll: 3\n    };\n    const settingsHourly = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 6,\n      slidesToScroll: 6\n    };\n    let forecastDaily = [];\n    let forecastHourly = [];\n    let x = 0;\n    let y = 0;\n    useEffect(() => {\n      if (name === \"\") keyPress({\n        key: \"Enter\",\n        target: {\n          value: \"Paris\"\n        }\n      });\n    }); //////////////////////////\n\n    function keyPress(a) {\n      if (a.key === \"Enter\") {\n        setErrorState(\"\");\n        const date = new Date();\n        const cityValue = a.target.value;\n        fetch(`https://api.openweathermap.org/data/2.5/weather?q=Paris&appid=${api}` // Fetch to get longitutde and latitude to use with second API - Translate String to coordinates\n        ).then(response => response.json()).then(data => {\n          setName(data.name); // Fetching weather data with coordinates - Current - Forecast\n\n          fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${data.coord.lat}&lon=${data.coord.lon}&appid=${api}`).then(response => response.json()).then(data => {\n            console.log(date.getDay());\n            const icon = data.current.weather[0].icon;\n            const iconURL = ` http://openweathermap.org/img/wn/${icon}@2x.png`; //////////////////////////\n\n            console.log(data);\n            setCurrentState( /*#__PURE__*/React.createElement(\"div\", {\n              className: \"flex column jcc  aic\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }\n            }, /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }\n            }), /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 21\n              }\n            }, kc(data.current.temp), \"\\xB0C\"), /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }\n            }, data.current.weather[0].main), /*#__PURE__*/React.createElement(\"img\", {\n              src: iconURL,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }\n            })));\n          });\n        }) //////////////////////////\n        .catch(error => {\n          console.log(\"error\");\n          setErrorState(\"City name does not exist\");\n          setCurrentState(\"\");\n          setForecastDailyState(\"\");\n          setForecastHourlyState(\"\");\n        });\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex column  h50 jcc aic \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: show,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }\n    }, \"Show Favorites \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, dbvalue), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onKeyPress: input,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }\n    }, \"Add to Favorites \"));\n  }\n}","map":{"version":3,"sources":["/home/wsz/tem/front/src/components/firebaseData.js"],"names":["React","StyledFirebaseAuth","firebase","useState","api","database","ref","set","data","once","then","a","console","log","val","Hello","dbvalue","setdbvalue","idLength","setidLength","name","setname","show","input","e","target","value","length","add","Search","props","currentState","setCurrentState","currentState1","setCurrentState1","currentState2","setCurrentState2","currentState3","setCurrentState3","forecastHourlyState","setForecastHourlyState","forecastDailyState","setForecastDailyState","errorState","setErrorState","setName","settings","dots","infinite","speed","slidesToShow","arrows","slidesToScroll","settingsHourly","forecastDaily","forecastHourly","x","y","useEffect","keyPress","key","date","Date","cityValue","fetch","response","json","coord","lat","lon","getDay","icon","current","weather","iconURL","kc","temp","main","catch","error"],"mappings":"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","sourcesContent":["// Import FirebaseAuth and firebase.\nimport React from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase';\nimport { useState } from 'react'\nimport \"./firebaseConfig\"\nimport {api} from \"./api\"\n\n\n\n\n\nfirebase.database().ref('meteo/').set({\n  1: \"Paris\",\n  2: \"Rio\",\n  3: \"Tokyo\",\n  4: \"Vancouver\"\n});\n\n//function readUserData2() {\n//  const data = firebase.database().ref('meteo/city/');\n//  data.once('value').then((a) => { console.log(a.val()) })\n//}\n\nconst data = firebase.database().ref('meteo/');\ndata.once('value').then((a) => { console.log(a.val()) })\n\n\n//const [dbvalue, setdbvalue] = useState(\"\");\n//data.once('value').then((a) => { setdbvalue(a.val()) })\n\n\n\n\nexport default function Hello() {\n\n  const [dbvalue, setdbvalue] = useState(\"\");\n  const [idLength, setidLength] = useState(\"\");\n  const [name, setname] = useState(\"\");\n\n  const data = firebase.database().ref('meteo/');\n  data.once('value').then((a) => { console.log(a.val()) })\n\n  const show = () => {\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then((a) => { setdbvalue(a.val()); })\n\n  }\n\n  const input = (e) => {\n    console.log(e.target.value)\n    setname(e.target.value)\n    const data = firebase.database().ref('meteo/');\n    data.once('value').then((a) => { setidLength(a.val().length) })\n    console.log(idLength)\n  }\n\n  const add = () => {\n    firebase.database().ref('meteo/').set({\n      6: name,\n\n    });\n  }\n\n  function Search(props) {\n    const [currentState, setCurrentState] = useState(\"\");\n    const [currentState1, setCurrentState1] = useState(\"\");\n    const [currentState2, setCurrentState2] = useState(\"\");\n    const [currentState3, setCurrentState3] = useState(\"\");\n    const [forecastHourlyState, setForecastHourlyState] = useState(\"\");\n    const [forecastDailyState, setForecastDailyState] = useState(\"\");\n    const [errorState, setErrorState] = useState(\"\");\n    const [name, setName] = useState(\"\");\n  \n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      arrows: true,\n      slidesToScroll: 3\n    };\n  \n    const settingsHourly = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 6,\n      slidesToScroll: 6\n    };\n  \n    let forecastDaily = [];\n    let forecastHourly = [];\n  \n    let x = 0;\n    let y = 0;\n  \n    useEffect(() => {\n      if (name === \"\") keyPress({ key: \"Enter\", target: { value: \"Paris\" } })\n    });\n  \n  \n  \n    //////////////////////////\n  \n    function keyPress(a) {\n      if (a.key === \"Enter\") {\n        setErrorState(\"\");\n        const date = new Date();\n        const cityValue = a.target.value;\n        fetch(\n          `https://api.openweathermap.org/data/2.5/weather?q=Paris&appid=${api}` // Fetch to get longitutde and latitude to use with second API - Translate String to coordinates\n        )\n          .then((response) => response.json())\n          .then((data) => {\n            setName(data.name);\n            // Fetching weather data with coordinates - Current - Forecast\n            fetch(\n              `https://api.openweathermap.org/data/2.5/onecall?lat=${data.coord.lat}&lon=${data.coord.lon}&appid=${api}`\n            )\n              .then((response) => response.json())\n              .then((data) => {\n                console.log(date.getDay());\n  \n                const icon = data.current.weather[0].icon;\n                const iconURL = ` http://openweathermap.org/img/wn/${icon}@2x.png`;\n                //////////////////////////\n                console.log(data);\n                setCurrentState(\n                  <div className=\"flex column jcc  aic\">\n                    <br />\n                    <div>{kc(data.current.temp)}°C</div>\n                    <div>{data.current.weather[0].main}</div>\n                    <img src={iconURL}></img>\n                  </div>\n                );\n              });\n          })\n          //////////////////////////\n  \n          .catch((error) => {\n            console.log(\"error\");\n            setErrorState(\"City name does not exist\");\n            setCurrentState(\"\");\n            setForecastDailyState(\"\");\n            setForecastHourlyState(\"\");\n          });\n      }\n  \n    }\n\n\n\n  return (\n    <div className=\"flex column  h50 jcc aic \">\n\n      <button onClick={show}>Show Favorites </button>\n      <div>{dbvalue}</div>\n      <br />\n      <br />\n      <br />\n      <input onKeyPress={input}></input>\n      <button onClick={add}>Add to Favorites </button>\n\n\n\n    </div>\n  )\n\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}